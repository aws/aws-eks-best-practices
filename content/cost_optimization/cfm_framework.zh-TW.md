---
日期：2023-09-22
作者：
  - Florian Daniel Otel
---
# 成本優化 - 簡介
AWS 雲端經濟學是一門學科，幫助客戶透過採用像是 Amazon EKS 這樣的現代運算技術，提高效率並降低成本。該學科建議遵循一種稱為「雲端財務管理 (CFM) 框架」的方法論，其由 4 個支柱組成：

![CFM 框架](../images/cfm_framework.png)

## See 支柱：測量和責任制
See 支柱是一組基礎活動和技術，用於定義如何測量、監控和為雲端支出建立責任制。它通常被稱為「可觀察性」、「檢測」或「遙測」。「可觀察性」基礎設施的能力和限制決定了可以優化的範圍。獲得對成本的清晰了解是成本優化的關鍵第一步，因為您需要知道自己的起點。這種可見度也將指導您需要採取哪些活動來進一步優化環境。

以下是我們針對 See 支柱的最佳實踐簡介：

* 為您的工作負載定義和維護標記策略。
    * 使用 [Instance Tagging](https://docs.aws.amazon.com/eks/latest/userguide/eks-using-tags.html#tag-resources-for-billing)，為 EKS 叢集加上標記可讓您查看個別叢集成本並在成本和使用報告中分配這些成本。
* 使用像是 [Kubecost](https://docs.kubecost.com/install-and-configure/install/provider-installations/aws-eks-cost-monitoring) 這樣的技術建立 EKS 使用情況的報告和監控。
    * [啟用雲端智能儀表板](https://wellarchitectedlabs.com/cost/200_labs/200_enterprise_dashboards/)，透過為資源正確加上標記並使用可視化工具，您可以測量和估算成本。
* 將雲端成本分配給應用程式、業務線 (LoBs) 和收入來源。
* 定義、測量並與業務利益相關者傳播效率/價值 KPI。例如，建立一個「單位指標」KPI，用於測量每筆交易的成本，例如共乘服務可能會有一個「每次乘車成本」的 KPI。

有關與此支柱相關的建議技術和活動的更多詳細資訊，請參閱本指南的 [成本優化 - 可觀察性](./cost_opt_observability.md) 部分。

## Save 支柱：成本優化

此支柱是基於在「See」支柱中開發的技術和能力。以下活動通常屬於此支柱：

* 識別並消除環境中的浪費。
* 為成本效率設計架構和設計。
* 選擇最佳採購選項，例如隨需實例 vs Spot 實例。
* 隨著服務的演進而適應：隨著 AWS 服務的演進，有效使用這些服務的方式可能會發生變化。願意適應這些變化。

由於這些活動是操作性的，它們在很大程度上取決於您環境的特性。問問自己，成本的主要驅動因素是什麼？您不同環境提供了什麼業務價值？哪些採購選項和基礎設施選擇（例如實例系列類型）最適合每個環境？

以下是 EKS 叢集最常見的成本驅動因素優先排序清單：

1. **運算成本：**結合多種實例系列類型、採購選項以及平衡可擴展性和可用性需要仔細考慮。有關進一步資訊，請參閱本指南 [成本優化 - 運算](./cost_opt_compute.md) 部分中的建議。
2. **網路成本：**對於 EKS 叢集使用 3 個可用區域可能會增加跨可用區域的流量成本。有關如何在保持高可用性要求的同時降低網路流量成本的建議，請參閱本指南的 [成本優化 - 網路](./cost_opt_networking.md) 部分。
3. **儲存成本：**根據 EKS 叢集中工作負載的無狀態/有狀態性質，以及不同儲存類型的使用方式，儲存可被視為工作負載的一部分。有關 EKS 儲存成本的考量因素，請參閱本指南的 [成本優化 - 儲存](./cost_opt_storage.md) 部分。

## Plan 支柱：規劃和預測

一旦實施了 See 支柱中的建議，叢集就會持續進行優化。隨著在有效運營叢集方面獲得經驗，規劃和預測活動可以專注於：

* 動態預算和預測雲端成本。
* 量化 EKS 容器服務所提供的業務價值。
* 將 EKS 叢集成本管理與 IT 財務管理規劃相整合。

## Run 支柱

成本優化是一個持續的過程，涉及逐步改進的飛輪：

![成本優化飛輪](../images/flywheel.png)

獲得執行層面對這些類型活動的贊助至關重要，可將 EKS 叢集優化整合到組織的「FinOps」工作中。它允許利益相關者通過對 EKS 叢集成本的共同理解、實施 EKS 叢集成本防護欄和確保工具、自動化和活動隨著組織需求的演進而演進，從而實現利益相關者的一致性。

## 參考資料
* [AWS 雲端經濟學、雲端財務管理](https://aws.amazon.com/aws-cost-management/)